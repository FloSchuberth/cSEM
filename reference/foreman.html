<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Internal: Composite-based SEM — foreman • cSEM</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Internal: Composite-based SEM — foreman"><meta property="og:description" content="The central hub of the cSEM package. It acts like a
foreman by collecting all (estimation) tasks, distributing them to lower
level package functions, and eventually recollecting all of their results.
It is called by csem() to manage the actual calculations.
It may be called directly by the user, however, in most cases it will likely
be more convenient to use csem() instead."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-156347841-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-156347841-1');
</script></head><body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cSEM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.0.9000</span>
      </span>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/cSEM.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Notation.html">Notation</a>
    </li>
    <li>
      <a href="../articles/Terminology.html">Terminology</a>
    </li>
    <li>
      <a href="../articles/Using-assess.html">Postestimation: Assessing a model</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/FloSchuberth/cSEM/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Internal: Composite-based SEM</h1>
    <small class="dont-index">Source: <a href="https://github.com/FloSchuberth/cSEM/blob/HEAD/R/00_foreman.R" class="external-link"><code>R/00_foreman.R</code></a></small>
    <div class="hidden name"><code>foreman.Rd</code></div>
    </div>
    <div class="ref-description">
    <p>The central hub of the <span class="pkg">cSEM</span> package. It acts like a
foreman by collecting all (estimation) tasks, distributing them to lower
level package functions, and eventually recollecting all of their results.
It is called by <code><a href="csem.html">csem()</a></code> to manage the actual calculations.
It may be called directly by the user, however, in most cases it will likely
be more convenient to use <code><a href="csem.html">csem()</a></code> instead.</p>
    </div>
    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">foreman</span><span class="op">(</span></span>
<span>  .data                        <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.data</span>,</span>
<span>  .model                       <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.model</span>,</span>
<span>  .approach_cor_robust         <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.approach_cor_robust</span>,</span>
<span>  .approach_nl                 <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.approach_nl</span>,</span>
<span>  .approach_paths              <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.approach_paths</span>,</span>
<span>  .approach_weights            <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.approach_weights</span>,</span>
<span>  .conv_criterion              <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.conv_criterion</span>,</span>
<span>  .disattenuate                <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.disattenuate</span>,</span>
<span>  .dominant_indicators         <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.dominant_indicators</span>,</span>
<span>  .estimate_structural         <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.estimate_structural</span>,</span>
<span>  .id                          <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.id</span>,</span>
<span>  .instruments                 <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.instruments</span>,</span>
<span>  .iter_max                    <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.iter_max</span>,</span>
<span>  .normality                   <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.normality</span>,</span>
<span>  .PLS_approach_cf             <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.PLS_approach_cf</span>,</span>
<span>  .PLS_ignore_structural_model <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.PLS_ignore_structural_model</span>,</span>
<span>  .PLS_modes                   <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.PLS_modes</span>,</span>
<span>  .PLS_weight_scheme_inner     <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.PLS_weight_scheme_inner</span>,</span>
<span>  .reliabilities               <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.reliabilities</span>,</span>
<span>  .starting_values             <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.starting_values</span>,</span>
<span>  .tolerance                   <span class="op">=</span> <span class="fu"><a href="args_default.html">args_default</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">.tolerance</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
    </div>
    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>A <code>data.frame</code> or a <code>matrix</code> of standardized or unstandardized
data (indicators/items/manifest variables). Possible column types or classes
of the data provided are: "<code>logical</code>", "<code>numeric</code>" ("<code>double</code>" or "<code>integer</code>"),
"<code>factor</code>" ("<code>ordered</code>" and/or "<code>unordered</code>"), "<code>character</code>" (converted to factor),
or a mix of several types.</p></dd>
<dt id="arg--model">.model<a class="anchor" aria-label="anchor" href="#arg--model"></a></dt>
<dd><p>A model in <a href="https://rdrr.io/pkg/lavaan/man/model.syntax.html" class="external-link">lavaan model syntax</a>
or a <a href="csem_model.html">cSEMModel</a> list.</p></dd>
<dt id="arg--approach-cor-robust">.approach_cor_robust<a class="anchor" aria-label="anchor" href="#arg--approach-cor-robust"></a></dt>
<dd><p>Character string. Approach used to obtain a robust
indicator correlation matrix. One of: "<em>none</em>" in which case the standard
Bravais-Pearson correlation is used,
"<em>spearman</em>" for the Spearman rank correlation, or
"<em>mcd</em>" via <code><a href="https://rdrr.io/pkg/MASS/man/cov.rob.html" class="external-link">MASS::cov.rob()</a></code> for a robust correlation matrix.
Defaults to "<em>none</em>". Note that many postestimation procedures (such as
<code><a href="testOMF.html">testOMF()</a></code> or <code><a href="fit.html">fit()</a></code> implicitly assume a continuous
indicator correlation matrix (e.g. Bravais-Pearson correlation matrix).
Only use if you know what you are doing.</p></dd>
<dt id="arg--approach-nl">.approach_nl<a class="anchor" aria-label="anchor" href="#arg--approach-nl"></a></dt>
<dd><p>Character string. Approach used to estimate nonlinear
structural relationships. One of: "<em>sequential</em>" or "<em>replace</em>".
Defaults to "<em>sequential</em>".</p></dd>
<dt id="arg--approach-paths">.approach_paths<a class="anchor" aria-label="anchor" href="#arg--approach-paths"></a></dt>
<dd><p>Character string. Approach used to estimate the
structural coefficients. One of: "<em>OLS</em>" or "<em>2SLS</em>". If "<em>2SLS</em>", instruments
need to be supplied to <code>.instruments</code>. Defaults to "<em>OLS</em>".</p></dd>
<dt id="arg--approach-weights">.approach_weights<a class="anchor" aria-label="anchor" href="#arg--approach-weights"></a></dt>
<dd><p>Character string. Approach used to
obtain composite weights. One of: "<em>PLS-PM</em>", "<em>SUMCORR</em>", "<em>MAXVAR</em>",
"<em>SSQCORR</em>", "<em>MINVAR</em>", "<em>GENVAR</em>", "<em>GSCA</em>", "<em>PCA</em>", "<em>unit</em>", "<em>bartlett</em>",
or "<em>regression</em>". Defaults to "<em>PLS-PM</em>".</p></dd>
<dt id="arg--conv-criterion">.conv_criterion<a class="anchor" aria-label="anchor" href="#arg--conv-criterion"></a></dt>
<dd><p>Character string. The criterion to use for the convergence check.
One of: "<em>diff_absolute</em>", "<em>diff_squared</em>", or "<em>diff_relative</em>". Defaults
to "<em>diff_absolute</em>".</p></dd>
<dt id="arg--disattenuate">.disattenuate<a class="anchor" aria-label="anchor" href="#arg--disattenuate"></a></dt>
<dd><p>Logical. Should composite/proxy correlations
be disattenuated to yield consistent loadings and path estimates if at least
one of the construct is modeled as a common factor? Defaults to <code>TRUE</code>.</p></dd>
<dt id="arg--dominant-indicators">.dominant_indicators<a class="anchor" aria-label="anchor" href="#arg--dominant-indicators"></a></dt>
<dd><p>A character vector of <code>"construct_name" = "indicator_name"</code> pairs,
where <code>"indicator_name"</code> is a character string giving the name of the dominant indicator
and <code>"construct_name"</code> a character string of the corresponding construct name.
Dominant indicators may be specified for a subset of the constructs.
Default to <code>NULL</code>.</p></dd>
<dt id="arg--estimate-structural">.estimate_structural<a class="anchor" aria-label="anchor" href="#arg--estimate-structural"></a></dt>
<dd><p>Logical. Should the structural coefficients
be estimated? Defaults to <code>TRUE</code>.</p></dd>
<dt id="arg--id">.id<a class="anchor" aria-label="anchor" href="#arg--id"></a></dt>
<dd><p>Character string or integer. A character string giving the name or
an integer of the position of the column of <code>.data</code> whose levels are used
to split <code>.data</code> into groups. Defaults to <code>NULL</code>.</p></dd>
<dt id="arg--instruments">.instruments<a class="anchor" aria-label="anchor" href="#arg--instruments"></a></dt>
<dd><p>A named list of vectors of instruments. The names
of the list elements are the names of the dependent (LHS) constructs of the structural
equation whose explanatory variables are endogenous. The vectors
contain the names of the instruments corresponding to each equation. Note
that exogenous variables of a given equation <strong>must</strong> be supplied as
instruments for themselves. Defaults to <code>NULL</code>.</p></dd>
<dt id="arg--iter-max">.iter_max<a class="anchor" aria-label="anchor" href="#arg--iter-max"></a></dt>
<dd><p>Integer. The maximum number of iterations allowed.
If <code>iter_max = 1</code> and <code>.approach_weights = "PLS-PM"</code> one-step weights are returned.
If the algorithm exceeds the specified number, weights of iteration step
<code>.iter_max - 1</code>  will be returned with a warning. Defaults to <code>100</code>.</p></dd>
<dt id="arg--normality">.normality<a class="anchor" aria-label="anchor" href="#arg--normality"></a></dt>
<dd><p>Logical. Should joint normality of
\([\eta_{1:p}; \zeta; \epsilon]\)
be assumed in the nonlinear model? See (Dijkstra and Schermelleh-Engel 2014)
 for details.
Defaults to <code>FALSE</code>. Ignored if the model is not nonlinear.</p></dd>
<dt id="arg--pls-approach-cf">.PLS_approach_cf<a class="anchor" aria-label="anchor" href="#arg--pls-approach-cf"></a></dt>
<dd><p>Character string. Approach used to obtain the correction
factors for PLSc. One of: "<em>dist_squared_euclid</em>", "<em>dist_euclid_weighted</em>",
"<em>fisher_transformed</em>", "<em>mean_arithmetic</em>", "<em>mean_geometric</em>", "<em>mean_harmonic</em>",
"<em>geo_of_harmonic</em>". Defaults to "<em>dist_squared_euclid</em>".
Ignored if <code>.disattenuate = FALSE</code> or if <code>.approach_weights</code> is not PLS-PM.</p></dd>
<dt id="arg--pls-ignore-structural-model">.PLS_ignore_structural_model<a class="anchor" aria-label="anchor" href="#arg--pls-ignore-structural-model"></a></dt>
<dd><p>Logical. Should the structural model be ignored
when calculating the inner weights of the PLS-PM algorithm? Defaults to <code>FALSE</code>.
Ignored if <code>.approach_weights</code> is not PLS-PM.</p></dd>
<dt id="arg--pls-modes">.PLS_modes<a class="anchor" aria-label="anchor" href="#arg--pls-modes"></a></dt>
<dd><p>Either a named list specifying the mode that should be used for
each construct in the form <code>"construct_name" = mode</code>, a single character
string giving the mode that should be used for all constructs, or <code>NULL</code>.
Possible choices for <code>mode</code> are: "<em>modeA</em>", "<em>modeB</em>", "<em>modeBNNLS</em>",
"<em>unit</em>", "<em>PCA</em>", a single integer or
a vector of fixed weights of the same length as there are indicators for the
construct given by <code>"construct_name"</code>. If only a single number is provided this is identical to
using unit weights, as weights are rescaled such that the related composite
has unit variance.  Defaults to <code>NULL</code>.
If <code>NULL</code> the appropriate mode according to the type
of construct used is chosen. Ignored if <code>.approach_weight</code> is not PLS-PM.</p></dd>
<dt id="arg--pls-weight-scheme-inner">.PLS_weight_scheme_inner<a class="anchor" aria-label="anchor" href="#arg--pls-weight-scheme-inner"></a></dt>
<dd><p>Character string. The inner weighting scheme
used by PLS-PM. One of: "<em>centroid</em>", "<em>factorial</em>", or "<em>path</em>".
Defaults to "<em>path</em>". Ignored if <code>.approach_weight</code> is not PLS-PM.</p></dd>
<dt id="arg--reliabilities">.reliabilities<a class="anchor" aria-label="anchor" href="#arg--reliabilities"></a></dt>
<dd><p>A character vector of <code>"name" = value</code> pairs,
where <code>value</code> is a number between 0 and 1 and <code>"name"</code> a character string
of the corresponding construct name, or <code>NULL</code>. Reliabilities
may be given for a subset of the constructs. Defaults to <code>NULL</code> in which case
reliabilities are estimated by <code><a href="csem.html">csem()</a></code>. Currently, only supported for
<code>.approach_weights = "PLS-PM"</code>.</p></dd>
<dt id="arg--starting-values">.starting_values<a class="anchor" aria-label="anchor" href="#arg--starting-values"></a></dt>
<dd><p>A named list of vectors where the
list names are the construct names whose indicator weights the user
wishes to set. The vectors must be named vectors of <code>"indicator_name" = value</code>
pairs, where <code>value</code> is the (scaled or unscaled) starting weight. Defaults to <code>NULL</code>.</p></dd>
<dt id="arg--tolerance">.tolerance<a class="anchor" aria-label="anchor" href="#arg--tolerance"></a></dt>
<dd><p>Double. The tolerance criterion for convergence.
Defaults to <code>1e-05</code>.</p></dd>
</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="csem.html">csem</a>, <a href="csem_results.html">cSEMResults</a></p></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>
      <footer><div class="copyright">
  <p></p><p>Developed by Manuel E. Rademaker, Florian Schuberth.</p>
</div>
<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.9000.</p>
</div>
      </footer></div>
  </body></html>

