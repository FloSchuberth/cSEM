<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>One-to-One R Translation of igsca_sim.m by Heungsun Hwang — igsca_sim • cSEM</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="One-to-One R Translation of igsca_sim.m by Heungsun Hwang — igsca_sim"><meta property="og:description" content="This is a one-to-one R translation of the matlab implementation of I-GSCA by Heungsun Hwang. This implementation was also re-factored for ease of interpretation."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-156347841-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156347841-1');
</script></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cSEM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/cSEM.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Notation.html">Notation</a>
    </li>
    <li>
      <a href="../articles/Terminology.html">Terminology</a>
    </li>
    <li>
      <a href="../articles/Using-assess.html">Postestimation: Assessing a model</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/FloSchuberth/cSEM/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>One-to-One R Translation of igsca_sim.m by Heungsun Hwang</h1>
    <small class="dont-index">Source: <a href="https://github.com/FloSchuberth/cSEM/blob/master/R/igsca_translation.R" class="external-link"><code>R/igsca_translation.R</code></a></small>
    <div class="hidden name"><code>igsca_sim.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is a one-to-one R translation of the matlab implementation of I-GSCA by Heungsun Hwang. This implementation was also re-factored for ease of interpretation.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">igsca_sim</span><span class="op">(</span></span>
<span>  <span class="va">z0</span>,</span>
<span>  <span class="va">W0</span>,</span>
<span>  <span class="va">C0</span>,</span>
<span>  <span class="va">B0</span>,</span>
<span>  <span class="va">lv_type</span>,</span>
<span>  <span class="va">ov_type</span>,</span>
<span>  <span class="va">ind_domi</span>,</span>
<span>  <span class="va">nbt</span>,</span>
<span>  swap_step <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"noswap"</span>, <span class="st">"prepare_for_ALS"</span>, <span class="st">"first_iteration_update_theta_Gamma_W_V"</span>,</span>
<span>    <span class="st">"first_iteration_update_C_B_D_uniqueD_est"</span>, <span class="st">"first_factor_update"</span>,</span>
<span>    <span class="st">"first_composite_update"</span>, <span class="st">"flip_signs_ind_domi"</span><span class="op">)</span>,</span>
<span>  itmax <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  ceps <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  devmode <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  devdir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"tests"</span>, <span class="st">"comparisons"</span>, <span class="st">"igsca_translation"</span><span class="op">)</span>,</span>
<span>  devmode_checkobj <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-z-">z0<a class="anchor" aria-label="anchor" href="#arg-z-"></a></dt>
<dd><p>Input data-frame/matrix. Should contain named columns.</p></dd>


<dt id="arg-w-">W0<a class="anchor" aria-label="anchor" href="#arg-w-"></a></dt>
<dd><p>Indicator matrix of weights: indicators (rows) and their corresponding latent variable (columns).</p></dd>


<dt id="arg-c-">C0<a class="anchor" aria-label="anchor" href="#arg-c-"></a></dt>
<dd><p>Indicator matrix of loadings: indicators (rows) and their corresponding latent variable (columns).</p></dd>


<dt id="arg-b-">B0<a class="anchor" aria-label="anchor" href="#arg-b-"></a></dt>
<dd><p>Square indicator matrix of path coefficients: from-latent-variable (rows) and to-latent-variable (columns). The order of latent variables should match the order in C0 and W0.</p></dd>


<dt id="arg-lv-type">lv_type<a class="anchor" aria-label="anchor" href="#arg-lv-type"></a></dt>
<dd><p>A logical vector that indices whether a latent variable (columns in W0 and C0) is a factor (TRUE) or composite (FALSE). Its length should be equal to the number of columns of W0 and C0.</p></dd>


<dt id="arg-ov-type">ov_type<a class="anchor" aria-label="anchor" href="#arg-ov-type"></a></dt>
<dd><p>An indicator vector that indices whether an indicator (rows of W0 and C0) corresponds to a factor latent variable (1) or a composite latent variable (0). This vector is important for computing the uniqueness terms (D) because it zeros the entries for composite indicators.</p></dd>


<dt id="arg-ind-domi">ind_domi<a class="anchor" aria-label="anchor" href="#arg-ind-domi"></a></dt>
<dd><p>A numeric vector that indices the dominant indicator for each latent variable. <em>It is to be clarified whether this should only apply to factor latent variables or also composite latent variables.</em> This is important for ensuring that the signs of the path-coefficients and loadings are consistent. It is sometimes the case in composite-based structural equation modelling methods that loadings/path-coefficients may have the opposite sign. The length of this vector should be equal to the number of latent variables and each value should represent the row number of the dominant indicator for that latent variable.</p></dd>


<dt id="arg-nbt">nbt<a class="anchor" aria-label="anchor" href="#arg-nbt"></a></dt>
<dd><p>Non-functional argument for the number of bootstrap-iterations, intended for computation of standard-errors, 95% confidence intervals and p-values.</p></dd>


<dt id="arg-swap-step">swap_step<a class="anchor" aria-label="anchor" href="#arg-swap-step"></a></dt>
<dd><p>This is an argument for different key stages of the algorithm. When selected, it swaps the overlapping objects between the R and Matlab environment at that stage of the algorithm. Requires devmode to be TRUE to be functional.
<em>'noswap'</em> means that no swapping will be made.</p></dd>


<dt id="arg-itmax">itmax<a class="anchor" aria-label="anchor" href="#arg-itmax"></a></dt>
<dd><p>Maximum number of iterations in the Alternating Least Squares (ALS) algorithm.</p></dd>


<dt id="arg-ceps">ceps<a class="anchor" aria-label="anchor" href="#arg-ceps"></a></dt>
<dd><p>Minimum amount of absolute change in the estimates of the path-coefficients (if B0 is non-zero) or the loadings (if B0 is all zero, meaning ther are no path-coefficients) between ALS iterations before ending the optimization.</p></dd>


<dt id="arg-devmode">devmode<a class="anchor" aria-label="anchor" href="#arg-devmode"></a></dt>
<dd><p>Logical argument (TRUE/FALSE) for whether devmode functionality should be enabled. When enabled, the function saves the function's environment as a .Rds at various stages of the algorithm. This was intended to facilitate the comparison between the R and Matlab implementations by narrowing down sources of discrepancy.</p></dd>


<dt id="arg-devdir">devdir<a class="anchor" aria-label="anchor" href="#arg-devdir"></a></dt>
<dd><p>A list of folders to be provided to here::here() to store the saved environments from <code>swap_step</code>.</p></dd>


<dt id="arg-devmode-checkobj">devmode_checkobj<a class="anchor" aria-label="anchor" href="#arg-devmode-checkobj"></a></dt>
<dd><p>A development argument for checking whether the list of overlapping and non-overlapping objects between the R and Matlab implementations of I-GSCA are the same as before.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>List of 4 matrices that make up a fitted I-GSCA Model: (1) Weights, (2) Loadings, (3) Uniqueness Terms D^2, and (4) Path Coefficients.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The code here generally assumes that every indicator corresponds to a single latent variable.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Michael S. Truong</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/" class="external-link">here</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org" class="external-link">readxl</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specify the model according to GSCA Pro's example</span></span></span>
<span class="r-in"><span><span class="va">tutorial_igsca_model</span> <span class="op">&lt;-</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st"># Composite Model</span></span></span>
<span class="r-in"><span><span class="st">NetworkingBehavior &lt;~ Behavior1 + Behavior2 + Behavior3 + Behavior5 + Behavior7 + Behavior8 + Behavior9</span></span></span>
<span class="r-in"><span><span class="st">Numberofjobinterviews &lt;~ Interview1 + Interview2</span></span></span>
<span class="r-in"><span><span class="st">Numberofjoboffers &lt;~ Offer1 + Offer2 </span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st"># Reflective Measurement Model</span></span></span>
<span class="r-in"><span><span class="st">HonestyHumility =~ Honesty1 + Honesty2 + Honesty3 + Honesty4 + Honesty5 + Honesty6 + Honesty7 + Honesty8 + Honesty9 + Honesty10</span></span></span>
<span class="r-in"><span><span class="st">Emotionality =~ Emotion1 + Emotion2 + Emotion3 + Emotion4 + Emotion5 + Emotion6 + Emotion8 + Emotion10</span></span></span>
<span class="r-in"><span><span class="st">Extraversion =~ Extraver2 + Extraver3 + Extraver4 + Extraver5 + Extraver6 + Extraver7 + Extraver8 + Extraver9 + Extraver10</span></span></span>
<span class="r-in"><span><span class="st">Agreeableness =~ Agreeable1 + Agreeable3 + Agreeable4 + Agreeable5 + Agreeable7 + Agreeable8 + Agreeable9 + Agreeable10</span></span></span>
<span class="r-in"><span><span class="st">Conscientiousness =~ Conscientious1 + Conscientious3 + Conscientious4 + Conscientious6 + Conscientious7 + Conscientious8 + Conscientious9 + Conscientious10</span></span></span>
<span class="r-in"><span><span class="st">OpennesstoExperience =~ Openness1 + Openness2 + Openness3 + Openness5 + Openness7 + Openness8 + Openness9 + Openness10</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st"># Structural Model</span></span></span>
<span class="r-in"><span><span class="st">NetworkingBehavior ~ HonestyHumility + Emotionality + Extraversion + Agreeableness + Conscientiousness + OpennesstoExperience</span></span></span>
<span class="r-in"><span><span class="st">Numberofjobinterviews ~ NetworkingBehavior</span></span></span>
<span class="r-in"><span><span class="st">Numberofjoboffers ~ NetworkingBehavior</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load the data</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html" class="external-link">read_excel</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"dev"</span>, <span class="st">"Notes"</span>, <span class="st">"data"</span>, <span class="st">"mmc1.xlsx"</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> `path` does not exist: ‘/home/runner/work/cSEM/cSEM/dev/Notes/data/mmc1.xlsx’</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Pre-generate the required matrices for the algorithm and assume that the first indicator for each latent variable is the dominant indicator.</span></span></span>
<span class="r-in"><span><span class="va">igsca_sim_in</span> <span class="op">&lt;-</span> <span class="fu"><a href="extract_parseModel.html">extract_parseModel</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">tutorial_igsca_model</span>,</span></span>
<span class="r-in"><span>                                   data <span class="op">=</span> <span class="va">dat</span>,</span></span>
<span class="r-in"><span>                                   ind_domi_as_first <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'dat' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fit the I-GSCA model</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">igsca_sim_out</span> <span class="op">&lt;-</span> <span class="fu">igsca_sim</span><span class="op">(</span>z0 <span class="op">=</span> <span class="va">igsca_sim_in</span><span class="op">$</span><span class="va">z0</span>,</span></span>
<span class="r-in"><span>                            W0 <span class="op">=</span> <span class="va">igsca_sim_in</span><span class="op">$</span><span class="va">W0</span>,</span></span>
<span class="r-in"><span>                            C0 <span class="op">=</span> <span class="va">igsca_sim_in</span><span class="op">$</span><span class="va">C0</span>,</span></span>
<span class="r-in"><span>                            B0 <span class="op">=</span> <span class="va">igsca_sim_in</span><span class="op">$</span><span class="va">B0</span>,</span></span>
<span class="r-in"><span>                            lv_type <span class="op">=</span> <span class="va">igsca_sim_in</span><span class="op">$</span><span class="va">lv_type</span>,</span></span>
<span class="r-in"><span>                            ov_type <span class="op">=</span> <span class="va">igsca_sim_in</span><span class="op">$</span><span class="va">ov_type</span>,</span></span>
<span class="r-in"><span>                            ind_domi <span class="op">=</span> <span class="va">igsca_sim_in</span><span class="op">$</span><span class="va">ind_domi</span>,</span></span>
<span class="r-in"><span>                            nbt <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>                            devmode <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                            swap_step <span class="op">=</span> <span class="st">"noswap"</span><span class="op">)</span></span></span>
<span class="r-in"><span>                            <span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'igsca_sim_in' not found</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Manuel E. Rademaker, Florian Schuberth.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.9000.</p>
</div>

      </footer></div>






  </body></html>

