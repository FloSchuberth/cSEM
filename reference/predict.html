<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Predict indicator scores — predict • cSEM</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Predict indicator scores — predict" />
<meta property="og:description" content="" />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156347841-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156347841-1');
</script>


  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cSEM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/cSEM.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Notation.html">Notation</a>
    </li>
    <li>
      <a href="../articles/Terminology.html">Terminology</a>
    </li>
    <li>
      <a href="../articles/Using-assess.html">Postestimation: Assessing a model</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/M-E-Rademaker/cSEM/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Predict indicator scores</h1>
    <small class="dont-index">Source: <a href='https://github.com/M-E-Rademaker/cSEM/blob/master/R/postestimate_predict.R'><code>R/postestimate_predict.R</code></a></small>
    <div class="hidden name"><code>predict.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href='https://lifecycle.r-lib.org/articles/stages.html#maturing'><img src='figures/lifecycle-maturing.svg' alt='[Maturing]' /></a></p>
    </div>

    <div class="ref-usage sourceCode"><pre class='sourceCode r'><code><span class='fu'>predict</span><span class='op'>(</span>
 .object               <span class='op'>=</span> <span class='cn'>NULL</span>,
 .benchmark            <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"lm"</span>, <span class='st'>"unit"</span>, <span class='st'>"PLS-PM"</span>, <span class='st'>"GSCA"</span>, <span class='st'>"PCA"</span>, <span class='st'>"MAXVAR"</span><span class='op'>)</span>,
 .cv_folds             <span class='op'>=</span> <span class='fl'>10</span>,
 .handle_inadmissibles <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"stop"</span>, <span class='st'>"ignore"</span>, <span class='st'>"set_NA"</span><span class='op'>)</span>,
 .r                    <span class='op'>=</span> <span class='fl'>1</span>,
 .test_data            <span class='op'>=</span> <span class='cn'>NULL</span>,
 .approach_score_target<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"mean"</span>, <span class='st'>"median"</span>, <span class='st'>"mode"</span><span class='op'>)</span>,
 .sim_points           <span class='op'>=</span> <span class='fl'>100</span>,
 .disattenuate         <span class='op'>=</span> <span class='cn'>TRUE</span>,
 .treat_as_continuous  <span class='op'>=</span> <span class='cn'>TRUE</span>,
 .approach_score_benchmark <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"mean"</span>, <span class='st'>"median"</span>, <span class='st'>"mode"</span>, <span class='st'>"round"</span><span class='op'>)</span>
 <span class='op'>)</span></code></pre></div>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.object</th>
      <td><p>An R object of class <a href='csem_results.html'>cSEMResults</a> resulting from a call to <code><a href='csem.html'>csem()</a></code>.</p></td>
    </tr>
    <tr>
      <th>.benchmark</th>
      <td><p>Character string. The procedure to obtain benchmark predictions.
One of "<em>lm</em>", "<em>unit</em>", "<em>PLS-PM</em>", "<em>GSCA</em>", "<em>PCA</em>", or "<em>MAXVAR</em>".
Default to "<em>lm</em>".</p></td>
    </tr>
    <tr>
      <th>.cv_folds</th>
      <td><p>Integer. The number of cross-validation folds to use. Setting
<code>.cv_folds</code> to <code>N</code> (the number of observations) produces
leave-one-out cross-validation samples. Defaults to <code>10</code>.</p></td>
    </tr>
    <tr>
      <th>.handle_inadmissibles</th>
      <td><p>Character string. How should inadmissible results
be treated? One of "<em>stop</em>", "<em>ignore</em>", or "<em>set_NA</em>". If "<em>stop</em>", <code>predict()</code>
will stop immediately if estimation yields an inadmissible result.
For "<em>ignore</em>" all results are returned even if all or some of the estimates
yielded inadmissible results.
For "<em>set_NA</em>" predictions based on inadmissible parameter estimates are
set to <code>NA</code>. Defaults to "<em>stop</em>"</p></td>
    </tr>
    <tr>
      <th>.r</th>
      <td><p>Integer. The number of repetitions to use. Defaults to <code>1</code>.</p></td>
    </tr>
    <tr>
      <th>.test_data</th>
      <td><p>A matrix of test data with the same column names as the
training data.</p></td>
    </tr>
    <tr>
      <th>.approach_score_target</th>
      <td><p>Character string. How should the aggregation of the estimates of
the truncated normal distribution for the predictions using OrdPLS/OrdPLSc be done?
One of "<em>mean</em>" or "<em>median</em>" or "<em>mode</em>".
If "<em>mean</em>", the mean of the estimated endogenous indicators is calculated.
If "<em>median</em>", the mean of the estimated endogenous indicators is calculated.
If "<em>mode</em>", the maximum empirical density on the intervals defined by the thresholds
is used. Defaults to "<em>mean</em>".</p></td>
    </tr>
    <tr>
      <th>.sim_points</th>
      <td><p>Integer. How many samples from the truncated normal distribution should
be simulated to estimate the exogenous construct scores? Defaults to "<em>100</em>".</p></td>
    </tr>
    <tr>
      <th>.disattenuate</th>
      <td><p>Logical. Should the benchmark predictions be based on
disattenuated parameter estimates? Defaults to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>.treat_as_continuous</th>
      <td><p>Logical. Should the indicators for the benchmark predictions
be treated as continuous? If <code>TRUE</code> all indicators are treated as continuous and PLS-PM/PLSc is applied.
If <code>FALSE</code> OrdPLS/OrdPLSc is applied. Defaults to <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>.approach_score_benchmark</th>
      <td><p>Character string. How should the aggregation
of the estimates of the truncated normal distribution be done for the
benchmark predictions? Ignored if not OrdPLS or OrdPLSc is used to obtain benchmark predictions.
One of "<em>mean</em>" or "<em>median</em>" or "<em>mode</em>" or "<em>round</em>".
If "<em>round</em>", the benchmark predictions are obtained using the traditional prediction
algorithm for PLS-PM which are rounded for categorical indicators.
If "<em>mean</em>", the mean of the estimated endogenous indicators is calculated.
If "<em>median</em>", the mean of the estimated endogenous indicators is calculated.
If "<em>mode</em>", the maximum empirical density on the intervals defined by the thresholds
is used.
If <code>.treat_as_continuous = TRUE</code> or if all indicators are on a continuous scale,
<code>.approach_score_benchmark</code> is ignored. Defaults to "<em>round</em>".</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>cSEMPredict</code> with print and plot methods.
Technically, <code>cSEMPredict</code> is a
named list containing the following list elements:</p>
<dl>
<dt><code>$Actual</code></dt><dd><p>A matrix of the actual values/indicator scores of the endogenous constructs.</p></dd>
<dt><code>$Prediction_target</code></dt><dd><p>A matrix of the predicted indicator scores of the endogenous constructs
based on the target model. Target refers to procedure used to estimate
the parameters in <code>.object</code>.</p></dd>
<dt><code>$Residuals_target</code></dt><dd><p>A matrix of the residual indicator scores of the endogenous constructs
based on the target model.</p></dd>
<dt><code>$Residuals_benchmark</code></dt><dd><p>A matrix of the residual indicator scores
of the endogenous constructs based on a model estimated by the procedure
given to <code>.benchmark</code>.</p></dd>
<dt><code>$Prediction_metrics</code></dt><dd><p>A data frame containing the predictions metrics
MAE, RMSE, and Q2_predict. In case of catgorical indicators, the concordance
is also included. Please note that the concordance can only be obtained for categorical
indicators. In case of continuous indicators, the concordance is set to the
MAE value.</p></dd>
<dt><code>$Information</code></dt><dd><p>A list with elements
<code>Target</code>, <code>Benchmark</code>,
<code>Number_of_observations_training</code>, <code>Number_of_observations_test</code>, <code>Number_of_folds</code>,
<code>Number_of_repetitions</code>, and <code>Handle_inadmissibles</code>.</p></dd>

</dl>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Predict the indicator scores of endogenous constructs.</p>
<p>Predict uses the procedure introduced by Shmueli et al. (2016)
 in the context of
PLS (commonly called: "PLSPredict" (Shmueli et al. 2019)
).
Predict uses k-fold cross-validation to randomly
split the data into training and test data and subsequently predicts the
relevant values in the test data based on the model parameter estimates obtained
using the training data. The number of cross-validation folds is 10 by default but
may be changed using the <code>.cv_folds</code> argument.
By default, the procedure is not repeated (<code>.r = 1</code>). You may choose to repeat
cross-validation by setting a higher <code>.r</code> to be sure not to have a particular
(unfortunate) split. See Shmueli et al. (2019)
 for
details. Typically <code>.r = 1</code> should be sufficient though.</p>
<p>Alternatively, users may supply a matrix or a data frame of <code>.test_data</code> with
the same column names as those in the data used to obtain <code>.object</code> (the training data).
In this case, arguments <code>.cv_folds</code> and <code>.r</code> are
ignored and predict uses the estimated coefficients from <code>.object</code> to
predict the values in the columns of <code>.test_data</code>.</p>
<p>In Shmueli et al. (2016)
 PLS-based predictions for indicator <code>i</code>
are compared to the predictions based on a multiple regression of indicator <code>i</code>
on all available exogenous indicators (<code>.benchmark = "lm"</code>) and
a simple mean-based prediction summarized in the Q2_predict metric.
<code>predict()</code> is more general in that is allows users to compare the predictions
based on a so-called target model/specification to predictions based on an
alternative benchmark. Available benchmarks include predictions
based on a linear model, PLS-PM weights, unit weights (i.e. sum scores),
GSCA weights, PCA weights, and MAXVAR weights.</p>
<p>Each estimation run is checked for admissibility using <code><a href='verify.html'>verify()</a></code>. If the
estimation yields inadmissible results, <code>predict()</code> stops with an error (<code>"stop"</code>).
Users may choose to <code>"ignore"</code> inadmissible results or to simply set predictions
to <code>NA</code> (<code>"set_NA"</code>) for the particular run that failed.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Shmueli G, Ray S, Estrada JMV, Chatla SB (2016).
&#8220;The Elephant in the Room: Predictive Performance of PLS Models.&#8221;
<em>Journal of Business Research</em>, <b>69</b>(10), 4552--4564.
doi: <a href='https://doi.org/10.1016/j.jbusres.2016.03.049'>10.1016/j.jbusres.2016.03.049</a>
.<br /><br /> Shmueli G, Sarstedt M, Hair JF, Cheah J, Ting H, Vaithilingam S, Ringle CM (2019).
&#8220;Predictive Model Assessment in PLS-SEM: Guidelines for Using PLSpredict.&#8221;
<em>European Journal of Marketing</em>, <b>53</b>(11), 2322--2347.
doi: <a href='https://doi.org/10.1108/ejm-02-2019-0189'>10.1108/ejm-02-2019-0189</a>
.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='csem.html'>csem</a>, <a href='csem_results.html'>cSEMResults</a>, <code><a href='exportToExcel.html'>exportToExcel()</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <div class="ref-examples sourceCode"><pre class='sourceCode r'><code><span class='r-in'><span class='co'>### Anime example taken from https://github.com/ISS-Analytics/pls-predict</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Load data</span></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>Anime</span><span class='op'>)</span> <span class='co'># data is similar to the Anime.csv found on </span></span>
<span class='r-in'>            <span class='co'># https://github.com/ISS-Analytics/pls-predict but with irrelevant</span></span>
<span class='r-in'>            <span class='co'># columns removed</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Split into training and data the same way as it is done on </span></span>
<span class='r-in'><span class='co'># https://github.com/ISS-Analytics/pls-predict</span></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>index</span>     <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample.int</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>Anime</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span>, <span class='fl'>83</span>, replace <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>dat_train</span> <span class='op'>&lt;-</span> <span class='va'>Anime</span><span class='op'>[</span><span class='op'>-</span><span class='va'>index</span>, <span class='op'>]</span></span>
<span class='r-in'><span class='va'>dat_test</span>  <span class='op'>&lt;-</span> <span class='va'>Anime</span><span class='op'>[</span><span class='va'>index</span>, <span class='op'>]</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Specify model</span></span>
<span class='r-in'><span class='va'>model</span> <span class='op'>&lt;-</span> <span class='st'>"</span>
<span class='r-in'># Structural model</span>
<span class='r-in'></span>
<span class='r-in'>ApproachAvoidance ~ PerceivedVisualComplexity + Arousal</span>
<span class='r-in'></span>
<span class='r-in'># Measurement/composite model</span>
<span class='r-in'></span>
<span class='r-in'>ApproachAvoidance         =~ AA0 + AA1 + AA2 + AA3</span>
<span class='r-in'>PerceivedVisualComplexity &lt;~ VX0 + VX1 + VX2 + VX3 + VX4</span>
<span class='r-in'>Arousal                   &lt;~ Aro1 + Aro2 + Aro3 + Aro4</span>
<span class='r-in'>"</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Estimate (replicating the results of the `simplePLS()` function)</span></span>
<span class='r-in'><span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='csem.html'>csem</a></span><span class='op'>(</span><span class='va'>dat_train</span>, </span>
<span class='r-in'>            <span class='va'>model</span>, </span>
<span class='r-in'>            .disattenuate <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='co'># original PLS</span></span>
<span class='r-in'>            .iter_max <span class='op'>=</span> <span class='fl'>300</span>, </span>
<span class='r-in'>            .tolerance <span class='op'>=</span> <span class='fl'>1e-07</span>, </span>
<span class='r-in'>            .PLS_weight_scheme_inner <span class='op'>=</span> <span class='st'>"factorial"</span></span>
<span class='r-in'><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Predict using a user-supplied training data set</span></span>
<span class='r-in'><span class='va'>pp</span> <span class='op'>&lt;-</span> <span class='fu'>predict</span><span class='op'>(</span><span class='va'>res</span>, .test_data <span class='op'>=</span> <span class='va'>dat_test</span><span class='op'>)</span></span>
<span class='r-wrn co'><span class='r-pr'>#&gt;</span> <span class='warning'>Warning: </span>The following warning occured in the `predict()` function:</span>
<span class='r-wrn co'><span class='r-pr'>#&gt;</span> Disattenuation is not applicable to benchmark `lm` and ignored.</span>
<span class='r-in'><span class='va'>pp</span><span class='op'>$</span><span class='va'>Predictions_target</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>6</span>, <span class='op'>]</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>         AA0      AA1      AA2      AA3</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 1 2.6721142 3.043641 3.188336 3.404801</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 2 5.8792289 6.048707 6.174991 6.170046</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 3 0.9136649 1.395974 1.550764 1.888627</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 4 4.1853797 4.461571 4.597579 4.709572</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 5 6.1292377 6.282965 6.407814 6.385609</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 6 3.8898464 4.184656 4.322361 4.454756</span>
<span class='r-in'><span class='va'>pp</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ________________________________________________________________________________</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ----------------------------------- Overview -----------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 	Number of obs. training            = 100</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 	Number of obs. test                = 83</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 	Number of cv folds                 = NA</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 	Number of repetitions              = 1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 	Handle inadmissibles               = stop</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 	Estimator target                   = 'PLS-PM'</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 	Estimator benchmark                = 'lm'</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 	Disattenuation target              = 'FALSE'</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> 	Disattenuation benchmark           = 'FALSE'</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ------------------------------ Prediction metrics ------------------------------</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   Name    MAE target  MAE benchmark  RMSE target RMSE benchmark   Q2_predict</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   AA0         1.2027         1.1671       1.5472         1.5010       0.4625</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   AA1         1.5028         1.5532       1.8751         1.9659       0.2794</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   AA2         0.9892         0.9821       1.3950         1.4021       0.4396</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   AA3         1.0416         1.0489       1.4282         1.4743       0.3656</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> ________________________________________________________________________________</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>### Compute prediction metrics  ------------------------------------------------</span></span>
<span class='r-in'><span class='va'>res2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='csem.html'>csem</a></span><span class='op'>(</span><span class='va'>Anime</span>, <span class='co'># whole data set</span></span>
<span class='r-in'>            <span class='va'>model</span>, </span>
<span class='r-in'>            .disattenuate <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='co'># original PLS</span></span>
<span class='r-in'>            .iter_max <span class='op'>=</span> <span class='fl'>300</span>, </span>
<span class='r-in'>            .tolerance <span class='op'>=</span> <span class='fl'>1e-07</span>, </span>
<span class='r-in'>            .PLS_weight_scheme_inner <span class='op'>=</span> <span class='st'>"factorial"</span></span>
<span class='r-in'><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Predict using 10-fold cross-validation</span></span>
<span class='r-in'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span></span>
<span class='r-in'><span class='va'>pp2</span> <span class='op'>&lt;-</span> <span class='fu'>predict</span><span class='op'>(</span><span class='va'>res</span>, .benchmark <span class='op'>=</span> <span class='st'>"lm"</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>pp2</span></span>
<span class='r-in'><span class='co'>## There is a plot method available</span></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>pp2</span><span class='op'>)</span><span class='op'>}</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>### Example using OrdPLScPredict -----------------------------------------------</span></span>
<span class='r-in'><span class='co'># Transform the numerical indicators into factors</span></span>
<span class='r-in'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"BergamiBagozzi2000"</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>data_new</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>cei1    <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>cei1</span><span class='op'>)</span>,</span>
<span class='r-in'>                       cei2    <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>cei2</span><span class='op'>)</span>,</span>
<span class='r-in'>                       cei3    <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>cei3</span><span class='op'>)</span>,</span>
<span class='r-in'>                       cei4    <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>cei4</span><span class='op'>)</span>,</span>
<span class='r-in'>                       cei5    <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>cei5</span><span class='op'>)</span>,</span>
<span class='r-in'>                       cei6    <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>cei6</span><span class='op'>)</span>,</span>
<span class='r-in'>                       cei7    <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>cei7</span><span class='op'>)</span>,</span>
<span class='r-in'>                       cei8    <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>cei8</span><span class='op'>)</span>,</span>
<span class='r-in'>                       ma1     <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>ma1</span><span class='op'>)</span>,</span>
<span class='r-in'>                       ma2     <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>ma2</span><span class='op'>)</span>,</span>
<span class='r-in'>                       ma3     <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>ma3</span><span class='op'>)</span>,</span>
<span class='r-in'>                       ma4     <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>ma4</span><span class='op'>)</span>,</span>
<span class='r-in'>                       ma5     <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>ma5</span><span class='op'>)</span>,</span>
<span class='r-in'>                       ma6     <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>ma6</span><span class='op'>)</span>,</span>
<span class='r-in'>                       orgcmt1 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>orgcmt1</span><span class='op'>)</span>,</span>
<span class='r-in'>                       orgcmt2 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>orgcmt2</span><span class='op'>)</span>,</span>
<span class='r-in'>                       orgcmt3 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>orgcmt3</span><span class='op'>)</span>,</span>
<span class='r-in'>                       orgcmt5 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>orgcmt5</span><span class='op'>)</span>,</span>
<span class='r-in'>                       orgcmt6 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>orgcmt6</span><span class='op'>)</span>,</span>
<span class='r-in'>                       orgcmt7 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>orgcmt7</span><span class='op'>)</span>,</span>
<span class='r-in'>                       orgcmt8 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.ordered</a></span><span class='op'>(</span><span class='va'>BergamiBagozzi2000</span><span class='op'>$</span><span class='va'>orgcmt8</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>model</span> <span class='op'>&lt;-</span> <span class='st'>"</span>
<span class='r-in'># Measurement models</span>
<span class='r-in'>OrgPres =~ cei1 + cei2 + cei3 + cei4 + cei5 + cei6 + cei7 + cei8</span>
<span class='r-in'>OrgIden =~ ma1 + ma2 + ma3 + ma4 + ma5 + ma6</span>
<span class='r-in'>AffJoy  =~ orgcmt1 + orgcmt2 + orgcmt3 + orgcmt7</span>
<span class='r-in'>AffLove =~ orgcmt5 + orgcmt 6 + orgcmt8</span>
<span class='r-in'></span>
<span class='r-in'># Structural model</span>
<span class='r-in'>OrgIden ~ OrgPres</span>
<span class='r-in'>AffLove ~ OrgIden</span>
<span class='r-in'>AffJoy  ~ OrgIden </span>
<span class='r-in'>"</span></span>
<span class='r-in'><span class='co'># Estimate using cSEM; note: the fact that indicators are factors triggers OrdPLSc</span></span>
<span class='r-in'><span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='csem.html'>csem</a></span><span class='op'>(</span>.model <span class='op'>=</span> <span class='va'>model</span>, .data <span class='op'>=</span> <span class='va'>data_new</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>250</span>,<span class='op'>]</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'><a href='summarize.html'>summarize</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Predict using OrdPLSPredict</span></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>pred</span> <span class='op'>&lt;-</span> <span class='fu'>predict</span><span class='op'>(</span></span>
<span class='r-in'>  .object <span class='op'>=</span> <span class='va'>res</span>, </span>
<span class='r-in'>  .benchmark <span class='op'>=</span> <span class='st'>"PLS-PM"</span>,</span>
<span class='r-in'>  .test_data <span class='op'>=</span> <span class='va'>data_new</span><span class='op'>[</span><span class='op'>(</span><span class='fl'>251</span><span class='op'>)</span><span class='op'>:</span><span class='fl'>305</span>,<span class='op'>]</span>,</span>
<span class='r-in'>   .treat_as_continuous <span class='op'>=</span> <span class='cn'>TRUE</span>, .approach_score_target <span class='op'>=</span> <span class='st'>"median"</span></span>
<span class='r-in'>  <span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>pred</span> </span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>pred</span><span class='op'>$</span><span class='va'>Prediction_metrics</span><span class='op'>[</span>, <span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>}</span></span>
</code></pre></div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Manuel E. Rademaker, Florian Schuberth.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


