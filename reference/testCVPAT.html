<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Perform a Cross-Validated Predictive Ability Test (CVPAT) — testCVPAT • cSEM</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Perform a Cross-Validated Predictive Ability Test (CVPAT) — testCVPAT"><meta name="description" content=""><meta property="og:description" content=""></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cSEM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/cSEM.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Notation.html">Notation</a></li>
    <li><a class="dropdown-item" href="../articles/Terminology.html">Terminology</a></li>
    <li><a class="dropdown-item" href="../articles/Using-assess.html">Postestimation: Assessing a model</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/FloSchuberth/cSEM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Perform a Cross-Validated Predictive Ability Test (CVPAT)</h1>
      <small class="dont-index">Source: <a href="https://github.com/FloSchuberth/cSEM/blob/master/R/postestimate_test_CVPAT.R" class="external-link"><code>R/postestimate_test_CVPAT.R</code></a></small>
      <div class="d-none name"><code>testCVPAT.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing" class="external-link"><img src="figures/lifecycle-maturing.svg" alt="[Maturing]"></a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">testCVPAT</span><span class="op">(</span></span>
<span>.object1              <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>.object2              <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>.approach_predict     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"earliest"</span>, <span class="st">"direct"</span><span class="op">)</span>,</span>
<span>.seed                 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>.cv_folds             <span class="op">=</span> <span class="fl">10</span>,</span>
<span>.handle_inadmissibles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stop"</span>, <span class="st">"ignore"</span><span class="op">)</span>,</span>
<span>.testtype             <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"twosided"</span>, <span class="st">"onesided"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--object-">.object1<a class="anchor" aria-label="anchor" href="#arg--object-"></a></dt>
<dd><p>An R object of class <a href="csem_results.html">cSEMResults</a> resulting from a call to <code><a href="csem.html">csem()</a></code>.</p></dd>


<dt id="arg--object-">.object2<a class="anchor" aria-label="anchor" href="#arg--object-"></a></dt>
<dd><p>An R object of class <a href="csem_results.html">cSEMResults</a> resulting from a call to <code><a href="csem.html">csem()</a></code>.</p></dd>


<dt id="arg--approach-predict">.approach_predict<a class="anchor" aria-label="anchor" href="#arg--approach-predict"></a></dt>
<dd><p>Character string. Which approach should be used to
predictions? One of "<em>earliest</em>" and "<em>direct</em>". If "<em>earliest</em>" predictions
for indicators associated to endogenous constructs are performed using only
indicators associated to exogenous constructs. If "<em>direct</em>", predictions for
indicators associated to endogenous constructs are based on indicators associated
to their direct antecedents. Defaults to "<em>earliest</em>".</p></dd>


<dt id="arg--seed">.seed<a class="anchor" aria-label="anchor" href="#arg--seed"></a></dt>
<dd><p>Integer or <code>NULL</code>. The random seed to use. Defaults to <code>NULL</code> in which
case an arbitrary seed is chosen. Note that the scope of the seed is limited
to the body of the function it is used in. Hence, the global seed will
not be altered!</p></dd>


<dt id="arg--cv-folds">.cv_folds<a class="anchor" aria-label="anchor" href="#arg--cv-folds"></a></dt>
<dd><p>Integer. The number of cross-validation folds to use. Setting
<code>.cv_folds</code> to <code>N</code> (the number of observations) produces
leave-one-out cross-validation samples. Defaults to <code>10</code>.</p></dd>


<dt id="arg--handle-inadmissibles">.handle_inadmissibles<a class="anchor" aria-label="anchor" href="#arg--handle-inadmissibles"></a></dt>
<dd><p>Character string. How should inadmissible results
be treated? One of "<em>drop</em>", "<em>ignore</em>", or "<em>replace</em>". If "<em>drop</em>", all
replications/resamples yielding an inadmissible result will be dropped
(i.e. the number of results returned will potentially be less than <code>.R</code>).
For "<em>ignore</em>" all results are returned even if all or some of the replications
yielded inadmissible results (i.e. number of results returned is equal to <code>.R</code>).
For "<em>replace</em>" resampling continues until there are exactly <code>.R</code> admissible solutions.
Depending on the frequency of inadmissible solutions this may significantly increase
computing time. Defaults to "<em>drop</em>".</p></dd>


<dt id="arg--testtype">.testtype<a class="anchor" aria-label="anchor" href="#arg--testtype"></a></dt>
<dd><p>Character string. One of "<em>twosided</em>" (H1: The models do not
perform equally in predicting indicators belonging to endogenous constructs)"
and <em>onesided</em>" (H1: Model 1 performs better in predicting indicators belonging
to endogenous constructs than model2). Defaults to "<em>twosided</em>".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>cSEMCVPAT</code> with print and plot methods.
Technically, <code>cSEMCVPAT</code> is a
named list containing the following list elements:</p>
<dl><dt>'$Information'</dt>
<dd><p>Additional information.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Perform a Cross-Validated Predictive Ability Test (CVPAT) as described in
(Liengaard et al. 2020)
. The predictive performance of two models
based on the same dataset is compared. In doing so, the average difference in
losses in predictions is compared for both models.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Liengaard BD, Sharma PN, Hult GTM, Jensen MB, Sarstedt M, Hair JF, Ringle CM (2020).
“Prediction: Coveted, Yet Forsaken? Introducing a Cross-Validated Predictive Ability Test in Partial Least Squares Path Modeling.”
<em>Decision Sciences</em>, <b>52</b>(2), 362–392.
<a href="https://doi.org/10.1111/deci.12445" class="external-link">doi:10.1111/deci.12445</a>
.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="csem.html">csem</a>, <a href="csem_results.html">cSEMResults</a>, <code><a href="exportToExcel.html">exportToExcel()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">### Anime example taken from https://github.com/ISS-Analytics/pls-predict/</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Anime</span><span class="op">)</span> <span class="co"># data is similar to the Anime.csv found on </span></span></span>
<span class="r-in"><span>            <span class="co"># https://github.com/ISS-Analytics/pls-predict/ but with irrelevant</span></span></span>
<span class="r-in"><span>            <span class="co"># columns removed</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Split into training and data the same way as it is done on </span></span></span>
<span class="r-in"><span><span class="co"># https://github.com/ISS-Analytics/pls-predict/</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">index</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample.int</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">Anime</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">83</span>, replace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat_train</span> <span class="op">&lt;-</span> <span class="va">Anime</span><span class="op">[</span><span class="op">-</span><span class="va">index</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">dat_test</span>  <span class="op">&lt;-</span> <span class="va">Anime</span><span class="op">[</span><span class="va">index</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specify model</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st"># Structural model</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">ApproachAvoidance ~ PerceivedVisualComplexity + Arousal</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st"># Measurement/composite model</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">ApproachAvoidance         =~ AA0 + AA1 + AA2 + AA3</span></span></span>
<span class="r-in"><span><span class="st">PerceivedVisualComplexity &lt;~ VX0 + VX1 + VX2 + VX3 + VX4</span></span></span>
<span class="r-in"><span><span class="st">Arousal                   &lt;~ Aro1 + Aro2 + Aro3 + Aro4</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Estimate (replicating the results of the `simplePLS()` function)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="csem.html">csem</a></span><span class="op">(</span><span class="va">dat_train</span>, </span></span>
<span class="r-in"><span>            <span class="va">model</span>, </span></span>
<span class="r-in"><span>            .disattenuate <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># original PLS</span></span></span>
<span class="r-in"><span>            .iter_max <span class="op">=</span> <span class="fl">300</span>, </span></span>
<span class="r-in"><span>            .tolerance <span class="op">=</span> <span class="fl">1e-07</span>, </span></span>
<span class="r-in"><span>            .PLS_weight_scheme_inner <span class="op">=</span> <span class="st">"factorial"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Predict using a user-supplied training data set</span></span></span>
<span class="r-in"><span><span class="va">pp</span> <span class="op">&lt;-</span> <span class="fu"><a href="predict.html">predict</a></span><span class="op">(</span><span class="va">res</span>, .test_data <span class="op">=</span> <span class="va">dat_test</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The following warning occured in the `predict()` function:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Disattenuation is not applicable to benchmark `lm` and ignored.</span>
<span class="r-in"><span><span class="va">pp</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ________________________________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------- Overview -----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Number of obs. training            = 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Number of obs. test                = 83</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Number of cv folds                 = NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Number of repetitions              = 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Handle inadmissibles               = stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Estimator target                   = 'PLS-PM'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Estimator benchmark                = 'lm'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Disattenuation target              = 'FALSE'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Disattenuation benchmark           = 'FALSE'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Approach to predict                = 'earliest'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------ Prediction metrics ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Name    MAE target  MAE benchmark  RMSE target RMSE benchmark   Q2_predict</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AA0         1.2125         1.1621       1.5575         1.5045       0.4625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AA1         1.5319         1.5711       1.9005         1.9829       0.2794</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AA2         0.9891         0.9804       1.3993         1.4029       0.4396</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AA3         1.0564         1.0472       1.4434         1.4787       0.3656</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ________________________________________________________________________________</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Compute prediction metrics  ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu"><a href="csem.html">csem</a></span><span class="op">(</span><span class="va">Anime</span>, <span class="co"># whole data set</span></span></span>
<span class="r-in"><span>            <span class="va">model</span>, </span></span>
<span class="r-in"><span>            .disattenuate <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># original PLS</span></span></span>
<span class="r-in"><span>            .iter_max <span class="op">=</span> <span class="fl">300</span>, </span></span>
<span class="r-in"><span>            .tolerance <span class="op">=</span> <span class="fl">1e-07</span>, </span></span>
<span class="r-in"><span>            .PLS_weight_scheme_inner <span class="op">=</span> <span class="st">"factorial"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Predict using 10-fold cross-validation</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">pp2</span> <span class="op">&lt;-</span> <span class="fu"><a href="predict.html">predict</a></span><span class="op">(</span><span class="va">res</span>, .benchmark <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pp2</span></span></span>
<span class="r-in"><span><span class="co">## There is a plot method available</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pp2</span><span class="op">)</span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Example using OrdPLScPredict -----------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># Transform the numerical indicators into factors</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"BergamiBagozzi2000"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data_new</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>cei1    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei2    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei3    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei4    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei5    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei6    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei7    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei8    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       ma1     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">ma1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       ma2     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">ma2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       ma3     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">ma3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       ma4     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">ma4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       ma5     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">ma5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       ma6     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">ma6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt5 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt6 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt7 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt8 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st"># Measurement models</span></span></span>
<span class="r-in"><span><span class="st">OrgPres =~ cei1 + cei2 + cei3 + cei4 + cei5 + cei6 + cei7 + cei8</span></span></span>
<span class="r-in"><span><span class="st">OrgIden =~ ma1 + ma2 + ma3 + ma4 + ma5 + ma6</span></span></span>
<span class="r-in"><span><span class="st">AffJoy  =~ orgcmt1 + orgcmt2 + orgcmt3 + orgcmt7</span></span></span>
<span class="r-in"><span><span class="st">AffLove =~ orgcmt5 + orgcmt 6 + orgcmt8</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st"># Structural model</span></span></span>
<span class="r-in"><span><span class="st">OrgIden ~ OrgPres</span></span></span>
<span class="r-in"><span><span class="st">AffLove ~ OrgIden</span></span></span>
<span class="r-in"><span><span class="st">AffJoy  ~ OrgIden </span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="co"># Estimate using cSEM; note: the fact that indicators are factors triggers OrdPLSc</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="csem.html">csem</a></span><span class="op">(</span>.model <span class="op">=</span> <span class="va">model</span>, .data <span class="op">=</span> <span class="va">data_new</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">250</span>,<span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="summarize.html">summarize</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Predict using OrdPLSPredict</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="predict.html">predict</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  .object <span class="op">=</span> <span class="va">res</span>, </span></span>
<span class="r-in"><span>  .benchmark <span class="op">=</span> <span class="st">"PLS-PM"</span>,</span></span>
<span class="r-in"><span>  .test_data <span class="op">=</span> <span class="va">data_new</span><span class="op">[</span><span class="op">(</span><span class="fl">251</span><span class="op">)</span><span class="op">:</span><span class="fl">305</span>,<span class="op">]</span>,</span></span>
<span class="r-in"><span>   .treat_as_continuous <span class="op">=</span> <span class="cn">TRUE</span>, .approach_score_target <span class="op">=</span> <span class="st">"median"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pred</span> </span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">pred</span><span class="op">$</span><span class="va">Prediction_metrics</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">4</span><span class="op">)</span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Manuel E. Rademaker, Florian Schuberth.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

