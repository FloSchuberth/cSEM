<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Perform a Cross-Validated Predictive Ability Test (CVPAT) — testCVPAT • cSEM</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Perform a Cross-Validated Predictive Ability Test (CVPAT) — testCVPAT"><meta property="og:description" content=""><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-156347841-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156347841-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cSEM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/cSEM.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Notation.html">Notation</a>
    </li>
    <li>
      <a href="../articles/Terminology.html">Terminology</a>
    </li>
    <li>
      <a href="../articles/Using-assess.html">Postestimation: Assessing a model</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/M-E-Rademaker/cSEM/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Perform a Cross-Validated Predictive Ability Test (CVPAT)</h1>
    <small class="dont-index">Source: <a href="https://github.com/M-E-Rademaker/cSEM/blob/HEAD/R/postestimate_test_CVPAT.R" class="external-link"><code>R/postestimate_test_CVPAT.R</code></a></small>
    <div class="hidden name"><code>testCVPAT.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing" class="external-link"><img src="figures/lifecycle-maturing.svg" alt="[Maturing]"></a></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">testCVPAT</span><span class="op">(</span></span>
<span>.object1              <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>.object2              <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>.approach_predict     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"earliest"</span>, <span class="st">"direct"</span><span class="op">)</span>,</span>
<span>.seed                 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>.cv_folds             <span class="op">=</span> <span class="fl">10</span>,</span>
<span>.handle_inadmissibles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stop"</span>, <span class="st">"ignore"</span><span class="op">)</span>,</span>
<span>.testtype             <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"twosided"</span>, <span class="st">"onesided"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>.object1</dt>
<dd><p>An R object of class <a href="csem_results.html">cSEMResults</a> resulting from a call to <code><a href="csem.html">csem()</a></code>.</p></dd>


<dt>.object2</dt>
<dd><p>An R object of class <a href="csem_results.html">cSEMResults</a> resulting from a call to <code><a href="csem.html">csem()</a></code>.</p></dd>


<dt>.approach_predict</dt>
<dd><p>Character string. Which approach should be used to
predictions? One of "<em>earliest</em>" and "<em>direct</em>". If "<em>earliest</em>" predictions
for indicators associated to endogenous constructs are performed using only
indicators associated to exogenous constructs. If "<em>direct</em>", predictions for
indicators associated to endogenous constructs are based on indicators associated
to their direct antecedents. Defaults to "<em>earliest</em>".</p></dd>


<dt>.seed</dt>
<dd><p>Integer or <code>NULL</code>. The random seed to use. Defaults to <code>NULL</code> in which
case an arbitrary seed is chosen. Note that the scope of the seed is limited
to the body of the function it is used in. Hence, the global seed will
not be altered!</p></dd>


<dt>.cv_folds</dt>
<dd><p>Integer. The number of cross-validation folds to use. Setting
<code>.cv_folds</code> to <code>N</code> (the number of observations) produces
leave-one-out cross-validation samples. Defaults to <code>10</code>.</p></dd>


<dt>.handle_inadmissibles</dt>
<dd><p>Character string. How should inadmissible results
be treated? One of "<em>drop</em>", "<em>ignore</em>", or "<em>replace</em>". If "<em>drop</em>", all
replications/resamples yielding an inadmissible result will be dropped
(i.e. the number of results returned will potentially be less than <code>.R</code>).
For "<em>ignore</em>" all results are returned even if all or some of the replications
yielded inadmissible results (i.e. number of results returned is equal to <code>.R</code>).
For "<em>replace</em>" resampling continues until there are exactly <code>.R</code> admissible solutions.
Depending on the frequency of inadmissible solutions this may significantly increase
computing time. Defaults to "<em>drop</em>".</p></dd>


<dt>.testtype</dt>
<dd><p>Character string. One of "<em>twosided</em>" (H1: The models do not
perform equally in predicting indicators belonging to endogenous constructs)"
and <em>onesided</em>" (H1: Model 1 performs better in predicting indicators belonging
to endogenous constructs than model2). Defaults to "<em>twosided</em>".</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An object of class <code>cSEMCVPAT</code> with print and plot methods.
Technically, <code>cSEMCVPAT</code> is a
named list containing the following list elements:</p>


<dl><dt>'$Information'</dt>
<dd><p>Additional information.</p></dd>


</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Perform a Cross-Validated Predictive Ability Test (CVPAT) as described in
(Liengaard et al. 2020)
. The predictive performance of two models
based on the same dataset is compared. In doing so, the average difference in
losses in predictions is compared for both models.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Liengaard BD, Sharma PN, Hult GTM, Jensen MB, Sarstedt M, Hair JF, Ringle CM (2020).
“Prediction: Coveted, Yet Forsaken? Introducing a Cross-Validated Predictive Ability Test in Partial Least Squares Path Modeling.”
<em>Decision Sciences</em>, <b>52</b>(2), 362--392.
<a href="https://doi.org/10.1111/deci.12445" class="external-link">doi:10.1111/deci.12445</a>
.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="csem.html">csem</a>, <a href="csem_results.html">cSEMResults</a>, <code><a href="exportToExcel.html">exportToExcel()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">### Anime example taken from https://github.com/ISS-Analytics/pls-predict/</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Anime</span><span class="op">)</span> <span class="co"># data is similar to the Anime.csv found on </span></span></span>
<span class="r-in"><span>            <span class="co"># https://github.com/ISS-Analytics/pls-predict/ but with irrelevant</span></span></span>
<span class="r-in"><span>            <span class="co"># columns removed</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Split into training and data the same way as it is done on </span></span></span>
<span class="r-in"><span><span class="co"># https://github.com/ISS-Analytics/pls-predict/</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">index</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample.int</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">Anime</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">83</span>, replace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat_train</span> <span class="op">&lt;-</span> <span class="va">Anime</span><span class="op">[</span><span class="op">-</span><span class="va">index</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">dat_test</span>  <span class="op">&lt;-</span> <span class="va">Anime</span><span class="op">[</span><span class="va">index</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Specify model</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st"># Structural model</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">ApproachAvoidance ~ PerceivedVisualComplexity + Arousal</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st"># Measurement/composite model</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">ApproachAvoidance         =~ AA0 + AA1 + AA2 + AA3</span></span></span>
<span class="r-in"><span><span class="st">PerceivedVisualComplexity &lt;~ VX0 + VX1 + VX2 + VX3 + VX4</span></span></span>
<span class="r-in"><span><span class="st">Arousal                   &lt;~ Aro1 + Aro2 + Aro3 + Aro4</span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Estimate (replicating the results of the `simplePLS()` function)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="csem.html">csem</a></span><span class="op">(</span><span class="va">dat_train</span>, </span></span>
<span class="r-in"><span>            <span class="va">model</span>, </span></span>
<span class="r-in"><span>            .disattenuate <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># original PLS</span></span></span>
<span class="r-in"><span>            .iter_max <span class="op">=</span> <span class="fl">300</span>, </span></span>
<span class="r-in"><span>            .tolerance <span class="op">=</span> <span class="fl">1e-07</span>, </span></span>
<span class="r-in"><span>            .PLS_weight_scheme_inner <span class="op">=</span> <span class="st">"factorial"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Predict using a user-supplied training data set</span></span></span>
<span class="r-in"><span><span class="va">pp</span> <span class="op">&lt;-</span> <span class="fu"><a href="predict.html">predict</a></span><span class="op">(</span><span class="va">res</span>, .test_data <span class="op">=</span> <span class="va">dat_test</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The following warning occured in the `predict()` function:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Disattenuation is not applicable to benchmark `lm` and ignored.</span>
<span class="r-in"><span><span class="va">pp</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ________________________________________________________________________________</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------- Overview -----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Number of obs. training            = 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Number of obs. test                = 83</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Number of cv folds                 = NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Number of repetitions              = 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Handle inadmissibles               = stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Estimator target                   = 'PLS-PM'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Estimator benchmark                = 'lm'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Disattenuation target              = 'FALSE'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Disattenuation benchmark           = 'FALSE'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Approach to predict                = 'earliest'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------ Prediction metrics ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Name    MAE target  MAE benchmark  RMSE target RMSE benchmark   Q2_predict</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AA0         1.2125         1.1621       1.5575         1.5045       0.4625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AA1         1.5319         1.5711       1.9005         1.9829       0.2794</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AA2         0.9891         0.9804       1.3993         1.4029       0.4396</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   AA3         1.0564         1.0472       1.4434         1.4787       0.3656</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ________________________________________________________________________________</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Compute prediction metrics  ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu"><a href="csem.html">csem</a></span><span class="op">(</span><span class="va">Anime</span>, <span class="co"># whole data set</span></span></span>
<span class="r-in"><span>            <span class="va">model</span>, </span></span>
<span class="r-in"><span>            .disattenuate <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># original PLS</span></span></span>
<span class="r-in"><span>            .iter_max <span class="op">=</span> <span class="fl">300</span>, </span></span>
<span class="r-in"><span>            .tolerance <span class="op">=</span> <span class="fl">1e-07</span>, </span></span>
<span class="r-in"><span>            .PLS_weight_scheme_inner <span class="op">=</span> <span class="st">"factorial"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Predict using 10-fold cross-validation</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">pp2</span> <span class="op">&lt;-</span> <span class="fu"><a href="predict.html">predict</a></span><span class="op">(</span><span class="va">res</span>, .benchmark <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pp2</span></span></span>
<span class="r-in"><span><span class="co">## There is a plot method available</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pp2</span><span class="op">)</span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Example using OrdPLScPredict -----------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># Transform the numerical indicators into factors</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"BergamiBagozzi2000"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data_new</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>cei1    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei2    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei3    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei4    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei5    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei6    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei7    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       cei8    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">cei8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       ma1     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">ma1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       ma2     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">ma2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       ma3     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">ma3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       ma4     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">ma4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       ma5     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">ma5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       ma6     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">ma6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt5 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt6 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt7 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       orgcmt8 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.ordered</a></span><span class="op">(</span><span class="va">BergamiBagozzi2000</span><span class="op">$</span><span class="va">orgcmt8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st"># Measurement models</span></span></span>
<span class="r-in"><span><span class="st">OrgPres =~ cei1 + cei2 + cei3 + cei4 + cei5 + cei6 + cei7 + cei8</span></span></span>
<span class="r-in"><span><span class="st">OrgIden =~ ma1 + ma2 + ma3 + ma4 + ma5 + ma6</span></span></span>
<span class="r-in"><span><span class="st">AffJoy  =~ orgcmt1 + orgcmt2 + orgcmt3 + orgcmt7</span></span></span>
<span class="r-in"><span><span class="st">AffLove =~ orgcmt5 + orgcmt 6 + orgcmt8</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st"># Structural model</span></span></span>
<span class="r-in"><span><span class="st">OrgIden ~ OrgPres</span></span></span>
<span class="r-in"><span><span class="st">AffLove ~ OrgIden</span></span></span>
<span class="r-in"><span><span class="st">AffJoy  ~ OrgIden </span></span></span>
<span class="r-in"><span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="co"># Estimate using cSEM; note: the fact that indicators are factors triggers OrdPLSc</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="csem.html">csem</a></span><span class="op">(</span>.model <span class="op">=</span> <span class="va">model</span>, .data <span class="op">=</span> <span class="va">data_new</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">250</span>,<span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="summarize.html">summarize</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Predict using OrdPLSPredict</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="predict.html">predict</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  .object <span class="op">=</span> <span class="va">res</span>, </span></span>
<span class="r-in"><span>  .benchmark <span class="op">=</span> <span class="st">"PLS-PM"</span>,</span></span>
<span class="r-in"><span>  .test_data <span class="op">=</span> <span class="va">data_new</span><span class="op">[</span><span class="op">(</span><span class="fl">251</span><span class="op">)</span><span class="op">:</span><span class="fl">305</span>,<span class="op">]</span>,</span></span>
<span class="r-in"><span>   .treat_as_continuous <span class="op">=</span> <span class="cn">TRUE</span>, .approach_score_target <span class="op">=</span> <span class="st">"median"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pred</span> </span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">pred</span><span class="op">$</span><span class="va">Prediction_metrics</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">4</span><span class="op">)</span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Manuel E. Rademaker, Florian Schuberth.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

